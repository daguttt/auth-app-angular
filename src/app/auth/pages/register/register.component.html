<article>
  <nav>
    <ul>
      <li>
        <h2>Register</h2>
      </li>
    </ul>
    <ul>
      <li>
        <a routerLink="../login">Go to Login</a>
      </li>
    </ul>
  </nav>
  <section>
    <button [disabled]="isLoading$ | async" (click)="registerWithGoogle()">
      Register with Google
    </button>
  </section>
  <div class="divider">
    <small class="secondary">or with email</small>
  </div>
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div>
      <label for="name">Full name: </label>
      <input
        type="name"
        formControlName="fullName"
        id="name"
        [attr.aria-invalid]="fullNameControlStatus$ | async"
      />
      <app-form-errors-container [forControl]="registerForm.get('fullName')">
        <app-form-error-msg errorCode="required"></app-form-error-msg>
      </app-form-errors-container>
    </div>
    <div>
      <label for="email">Email: </label>
      <input
        type="email"
        formControlName="email"
        id="email"
        [attr.aria-invalid]="emailControlStatus$ | async"
      />
      <app-form-errors-container [forControl]="registerForm.get('email')">
        <app-form-error-msg errorCode="required"></app-form-error-msg>
        <app-form-error-msg errorCode="email"></app-form-error-msg>
      </app-form-errors-container>
    </div>
    <div>
      <label for="password">Password: </label>
      <input
        type="password"
        formControlName="password"
        id="password"
        [attr.aria-invalid]="passwordControlStatus$ | async"
      />
      <app-form-errors-container [forControl]="registerForm.get('password')">
        <app-form-error-msg errorCode="required"></app-form-error-msg>
        <app-form-error-msg
          errorCode="passwordMustMatchValidFormat"
          customMsg="Al menos una mayúscula, un número y 8 o más caracteres"
        ></app-form-error-msg>
      </app-form-errors-container>
    </div>
    <app-submit-button
      [parentFormGroup]="registerForm"
      (onSubmit)="register()"
      customClasses="secondary"
    >
      Register
    </app-submit-button>
  </form>
  <p>Have an account? <a routerLink="../login">Login using your account</a></p>
</article>
